<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description"
        content="Bird Friend is a photo sharing app, where you share photos of birds in your neighbourhood!">
    <meta name="keywords" content="Python, Flask, Tailwind, Photo, Sharing, Birds">
    <meta name="author" content="David Burns">
    <meta property="og:title" content="Bird Friend">
    <meta property="og:description"
        content="Bird Friend is a photo sharing app, where you share photos of birds in your neighbourhood!">
    <script src="https://kit.fontawesome.com/ea8e9f1dd8.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/output.css') }}" type="text/css">
    {% if title %}
    <title>{{ title }} - Bird Friend</title>
    {% else %}
    <title>Bird Friend</title>
    {% endif %}
</head>

<body class="bg-ban-100 font-body">

    <!-- NAVBAR inspired by Sebageounity: 
        https://tailwindcomponents.com/component/bottom-and-header-nav-responsive -->

    <div class="w-full">
        <header>
            <nav class="flex justify-between w-full p-4">
                <a href="{{url_for('main.index')}}">
                    <span class="font-roboto-slab font-semibold text-xl tracking-tight">
                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 375 375">
                            <style>
                                .a {
                                    fill: rgb(100%, 100%, 100%);
                                }

                                .b {
                                    stroke: none;
                                    fill: rgb(10.198975%, 32.548523%, 36.079407%);
                                }
                            </style>
                            <defs>
                                <clipPath>
                                    <path d="M85.4 57.6L289.3 57.6 289.3 317 85.4 317ZM85.4 57.6" />
                                </clipPath>
                            </defs>
                            <rect width="375" height="375" class="a" />
                            <rect width="375" height="375" class="a" />
                            <rect width="375" height="375" fill="rgb(96.859741%,100%,96.859741%)" />
                            <g clip-path="url(#clip1)">
                                <path
                                    d="M270 317C264.1 317 258.6 314.3 254.9 309.7 249.3 303.6 206.1 261.2 179.6 235.3 172 227.8 171.9 215.6 179.3 208 186.8 200.3 199 200.2 206.6 207.6 206.8 207.8 225.9 226.5 244.8 245.1 246.9 247.2 248.9 249.1 250.7 251L250.7 160.3C250.7 125 222.3 96.3 187.3 96.3 152.4 96.3 123.9 125 123.9 160.3L123.9 297.6C123.9 308.3 115.3 317 104.6 317 94 317 85.3 308.3 85.3 297.6L85.3 160.3C85.3 103.7 131.1 57.7 187.3 57.7 243.6 57.7 289.3 103.7 289.3 160.3L289.3 297.6C289.3 306.7 283 314.6 274.1 316.5 272.8 316.8 271.4 317 270 317ZM252.5 305.7C252.5 305.7 252.5 305.7 252.5 305.7 252.5 305.7 252.5 305.7 252.5 305.7ZM252.5 305.7C252.5 305.7 252.5 305.7 252.5 305.7 252.5 305.7 252.5 305.7 252.5 305.7ZM252.5 305.7"
                                    class="b" />
                            </g>
                            <path
                                d="M209.4 156.8C209.4 157.5 209.3 158.2 209.3 158.9 209.2 159.6 209.1 160.4 209 161.1 208.8 161.8 208.6 162.5 208.4 163.2 208.2 163.9 208 164.5 207.7 165.2 207.4 165.9 207.1 166.5 206.8 167.2 206.4 167.8 206.1 168.4 205.7 169 205.3 169.6 204.8 170.2 204.4 170.8 203.9 171.3 203.4 171.9 202.9 172.4 202.4 172.9 201.9 173.4 201.3 173.8 200.8 174.3 200.2 174.7 199.6 175.1 199 175.5 198.4 175.9 197.7 176.2 197.1 176.6 196.4 176.9 195.8 177.2 195.1 177.4 194.4 177.7 193.7 177.9 193 178.1 192.3 178.3 191.6 178.4 190.9 178.5 190.2 178.7 189.5 178.7 188.8 178.8 188 178.8 187.3 178.8 186.6 178.8 185.9 178.8 185.2 178.7 184.4 178.7 183.7 178.5 183 178.4 182.3 178.3 181.6 178.1 180.9 177.9 180.2 177.7 179.6 177.4 178.9 177.2 178.2 176.9 177.6 176.6 176.9 176.2 176.3 175.9 175.7 175.5 175.1 175.1 174.5 174.7 173.9 174.3 173.3 173.8 172.8 173.4 172.2 172.9 171.7 172.4 171.2 171.9 170.7 171.3 170.3 170.8 169.8 170.2 169.4 169.6 169 169 168.6 168.4 168.2 167.8 167.9 167.2 167.5 166.5 167.2 165.9 166.9 165.2 166.7 164.5 166.4 163.9 166.2 163.2 166 162.5 165.8 161.8 165.7 161.1 165.6 160.4 165.4 159.6 165.4 158.9 165.3 158.2 165.3 157.5 165.3 156.8 165.3 156 165.3 155.3 165.4 154.6 165.4 153.9 165.6 153.2 165.7 152.5 165.8 151.8 166 151.1 166.2 150.4 166.4 149.7 166.7 149 166.9 148.3 167.2 147.7 167.5 147 167.9 146.4 168.2 145.7 168.6 145.1 169 144.5 169.4 143.9 169.8 143.3 170.3 142.8 170.7 142.2 171.2 141.7 171.7 141.2 172.2 140.7 172.8 140.2 173.3 139.7 173.9 139.3 174.5 138.8 175.1 138.4 175.7 138 176.3 137.6 176.9 137.3 177.6 137 178.2 136.7 178.9 136.4 179.6 136.1 180.2 135.9 180.9 135.7 181.6 135.4 182.3 135.3 183 135.1 183.7 135 184.4 134.9 185.2 134.8 185.9 134.7 186.6 134.7 187.3 134.7 188 134.7 188.8 134.7 189.5 134.8 190.2 134.9 190.9 135 191.6 135.1 192.3 135.3 193 135.4 193.7 135.7 194.4 135.9 195.1 136.1 195.8 136.4 196.4 136.7 197.1 137 197.7 137.3 198.4 137.6 199 138 199.6 138.4 200.2 138.8 200.8 139.3 201.3 139.7 201.9 140.2 202.4 140.7 202.9 141.2 203.4 141.7 203.9 142.2 204.4 142.8 204.8 143.3 205.3 143.9 205.7 144.5 206.1 145.1 206.4 145.7 206.8 146.4 207.1 147 207.4 147.7 207.7 148.3 208 149 208.2 149.7 208.4 150.4 208.6 151.1 208.8 151.8 209 152.5 209.1 153.2 209.2 153.9 209.3 154.6 209.3 155.3 209.4 156 209.4 156.8ZM209.4 156.8"
                                class="b" />
                        </svg>
                    </span>
                </a>
                <div class="md:items-center md:w-auto flex">
                    {% if current_user.is_authenticated %}
                        <div class="hidden md:flex">
                            <a class="block md:text-black mr-4" href="{{url_for('users.logout')}}">Logout</a>
                            <a class="block md:text-black mr-4" href="{{ url_for('birds.upload_bird') }}">Upload</a>
                            <a class="block md:text-black mr-4" href="{{ url_for('main.contact') }}">Contact</a>
                        </div>
                    {% endif %}
                <div class="flex text-sm" v-else>
                    <!-- Login & Register buttons vs My Profile depending on whether user is logged in-->
                    {% if current_user.is_anonymous %}
                        <a class="btn-yellow-nav" href="{{ url_for('main.contact') }}">Contact</a>
                        <a class="btn-green" href="{{ url_for('users.login') }}">Login</a>
                        <a class="btn-red" href="{{ url_for('users.register') }}">Register</a>
                    {% else %}
                        <a class="btn-green" href="{{ url_for('main.gallery', view='popular', animate='on') }}">Gallery</a>
                        <a class="btn-red" href="{{url_for('users.profile', username=current_user.username)}}">My Profile</a>
                    {% endif %}
                    </div>
                </div>
            </nav>
        </header>
        <!-- /navbar -->

        <!-- MAIN CONTENT -->
        <main
            class="{{'min-h-screen-less-both-nav' if title and current_user.is_authenticated else 'min-h-screen-less-nav'}} md:min-h-screen-less-nav md:mb-0 mx-auto">
            <!--
      Conditional height settings for mobile viewports:
      Set height minus both navs if on mobile and not on index.html 
      No bottom nav on landing page
      Else set height minus top nav only.
      Then set height minus top only for *all* views tablet and above-->
            <!-- FLASH MESSAGES -->
            {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
            <div class="absolute w-full max-w-screen-sm x-center">
                {% for category, message in messages %}
                <div
                    class="w-11/12 p-2 m-2 mx-auto text-center text-white {{category}} rounded-lg shadow-xl animate-flash ">
                    <!-- Category decides color of flash and icon used -->
                    <p><i class="fas fa-{{category}} mr-4"></i>{{message}}</p>
                </div>
                {% endfor %}
            </div>
            {% endif %}
            {% endwith %}

            {% block content %}
            {% endblock %}

        </main>

        <!-- MOBILE NAVIGATION BAR -->
        <!-- Only visible on mobile and if user is signed in -->
        {% if current_user.is_authenticated %}
        <div class="bottomNav fixed bottom-0 w-full">
            <nav style="border:1px solid blue" class="md:hidden bottom-0 w-full bg-liath-100 text-xs">
                <ul class="flex justify-around items-center text-white text-center opacity-75 text-lg font-bold">
                    <li class="p-4 hover:bg-liath-100">
                        <a href="{{url_for('users.logout')}}">
                            <span class="text-xs md:text-sm">Logout</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                            </svg>
                        </a>
                    </li>
                    <li class="p-4 hover:bg-liath-100">
                        <a href="{{ url_for('main.contact') }}">
                            <span class="text-xs md:text-sm">Contact</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                        </a>
                    </li>
                    <li class="p-4 hover:bg-liath-100">
                        <a href="{{ url_for('birds.upload_bird') }}">
                            <span class="text-xs md:text-sm">Upload</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                            </svg>
                        </a>
                    </li>
                    <li class="p-4 hover:bg-liath-100">
                        <a href="{{url_for('users.profile', username=current_user.username)}}">
                            <span class="text-xs md:text-sm">Profile</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mx-auto" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    {% endif %}
    <!-- /mobile navbar -->
    <script src="{{url_for('static', filename='js/script.js')}}"></script>
</body>

</html>